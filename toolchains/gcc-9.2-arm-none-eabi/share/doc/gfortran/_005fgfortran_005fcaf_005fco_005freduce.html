<html lang="en">
<head>
<title>_gfortran_caf_co_reduce - The GNU Fortran Compiler</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Fortran Compiler">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Function-ABI-Documentation.html#Function-ABI-Documentation" title="Function ABI Documentation">
<link rel="prev" href="_005fgfortran_005fcaf_005fco_005fsum.html#g_t_005fgfortran_005fcaf_005fco_005fsum" title="_gfortran_caf_co_sum">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1999-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``Funding Free Software'', the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.

(a) The FSF's Front-Cover Text is:

     A GNU Manual

(b) The FSF's Back-Cover Text is:

     You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="_gfortran_caf_co_reduce"></a>
<a name="g_t_005fgfortran_005fcaf_005fco_005freduce"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="_005fgfortran_005fcaf_005fco_005fsum.html#g_t_005fgfortran_005fcaf_005fco_005fsum">_gfortran_caf_co_sum</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Function-ABI-Documentation.html#Function-ABI-Documentation">Function ABI Documentation</a>
<hr>
</div>

<h4 class="subsection">8.2.36 <code>_gfortran_caf_co_reduce</code> &mdash; Generic collective reduction</h4>

<p><a name="index-Coarray_002c-_005fgfortran_005fcaf_005fco_005freduce-484"></a>
     <dl>
<dt><em>Description</em>:<dd>Calculates for each array element of the variable <var>a</var> the reduction
value for that element in the current team; if <var>result_image</var> has the
value 0, the result shall be stored on all images, otherwise, only on the
specified image.  The <var>opr</var> is a pure function doing a mathematically
commutative and associative operation.

     <p>The <var>opr_flags</var> denote the following; the values are bitwise ored. 
<code>GFC_CAF_BYREF</code> (1) if the result should be returned
by reference; <code>GFC_CAF_HIDDENLEN</code> (2) whether the result and argument
string lengths shall be specified as hidden arguments;
<code>GFC_CAF_ARG_VALUE</code> (4) whether the arguments shall be passed by value,
<code>GFC_CAF_ARG_DESC</code> (8) whether the arguments shall be passed by descriptor.

     <br><dt><em>Syntax</em>:<dd><code>void _gfortran_caf_co_reduce (gfc_descriptor_t *a,
void * (*opr) (void *, void *), int opr_flags, int result_image,
int *stat, char *errmsg, int a_len, size_t errmsg_len)</code>

     <br><dt><em>Arguments</em>:<dd>
     <p><table summary=""><tr align="left"><td valign="top" width="15%"><var>a</var> </td><td valign="top" width="70%">intent(inout)  An array descriptor with the data to be
processed.  On the destination image(s) the result overwrites the old content. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><var>opr</var> </td><td valign="top" width="70%">intent(in)  Function pointer to the reduction function
<br></td></tr><tr align="left"><td valign="top" width="15%"><var>opr_flags</var> </td><td valign="top" width="70%">intent(in)  Flags regarding the reduction function
<br></td></tr><tr align="left"><td valign="top" width="15%"><var>result_image</var> </td><td valign="top" width="70%">intent(in)  The ID of the image to which the
reduced value should be copied to; if zero, it has to be copied to all images. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><var>stat</var> </td><td valign="top" width="70%">intent(out)  Stores the status STAT= and may be NULL. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><var>errmsg</var> </td><td valign="top" width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><var>a_len</var> </td><td valign="top" width="70%">intent(in)  the string length of argument <var>a</var>
<br></td></tr><tr align="left"><td valign="top" width="15%"><var>errmsg_len</var> </td><td valign="top" width="70%">intent(in)  the buffer size of errmsg
     <br></td></tr></table>

     <br><dt><em>NOTES</em><dd>If <var>result_image</var> is nonzero, the data in the array descriptor <var>a</var> on
all images except of the specified one become undefined; hence, the library may
make use of this.

     <p>For character arguments, the result is passed as first argument, followed
by the result string length, next come the two string arguments, followed
by the two hidden string length arguments.  With C binding, there are no hidden
arguments and by-reference passing and either only a single character is passed
or an array descriptor. 
</dl>

<!-- Intrinsic Procedures -->
<!--  -->
   </body></html>

